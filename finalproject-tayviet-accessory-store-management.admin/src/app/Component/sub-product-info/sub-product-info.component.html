<h3>Sub Product</h3>
<div id="carouselExample" class="carousel slide">
  <div class="carousel-inner">
    <div *ngFor="let subProduct of subProducts; let x = index; let first = first" class="carousel-item" [ngClass]="{'active': first}">
      <table class="table align-middle shadow">
        <tbody>
          <tr>
            <th class="col-3">
              <label class="col-sm-2 col-form-label mx-3 text-capitalize">Name:</label>
            </th>
            <td class="col-9" colspan="3">
              <div class="form-floating">
                <input id="{{ subProduct['name'] }}" [ngClass]="{'form-control': mode !== 'view', 'form-control-plaintext pt-2' : mode === 'view', 'is-invalid': checkValidAttribute('name') === false}" type="text" [readonly]="mode === 'view'" [value]="subProduct['name']" [(ngModel)]="subProduct['name']" placeholder="">
                <label *ngIf="mode !== 'view'" for="subProduct['name']"> name </label>
                <div class="position-absolute top-50 start-100 translate-middle-y badge rounded-pill text-bg-danger" *ngIf="checkValidAttribute('name') === false">
                  invalid name
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <th class="col-2">
              <label class="col-sm-2 col-form-label mx-3 text-capitalize">Stock:</label>
            </th>
            <td class="col-4">
              <div class="form-floating">
                <input id="{{ subProduct['inStock'] }}" [ngClass]="{'form-control': mode !== 'view', 'form-control-plaintext pt-2' : mode === 'view', 'is-invalid': checkValidAttribute('instock') === false}" type="text" [readonly]="mode === 'view'" [value]="subProduct['inStock']" [(ngModel)]="subProduct['inStock']" placeholder="">
                <label *ngIf="mode !== 'view'" for="subProduct['name']"> name </label>
                <div class="position-absolute top-50 start-100 translate-middle-y badge rounded-pill text-bg-danger" *ngIf="checkValidAttribute('name') === false">
                  invalid name
                </div>
              </div>
            </td>
            <th class="col-2">
              <label class="col-sm-2 col-form-label mx-3 text-capitalize">State:</label>
            </th>
            <td class="col-4">
              <div class="form-floating">
                <select *ngIf="mode !== 'view'" class="form-select text-capitalize" [(ngModel)]="subProduct['state']">
                  <option value="Available"> Available </option>
                  <option value="Unavailable"> Unavailable </option>
                </select>
                <label *ngIf="mode !== 'view'" for="state">State</label>
                <input *ngIf="mode === 'view'" id="state" class="form-control-plaintext pt-2" [ngClass]="{'is-invalid': checkValidAttribute('state') === false}" type="text" readonly [value]="subProduct['state']" [(ngModel)]="subProduct['state']" placeholder="">
              </div>
            </td>
          </tr>
          <tr>
            <th class="col-2">
              <label class="col-sm-2 col-form-label mx-3 text-capitalize">Buy:</label>
            </th>
            <td class="col-4">
              <div class="form-floating">
                <input id="{{ subProduct['buyCost'] }}" [ngClass]="{'form-control': mode !== 'view', 'form-control-plaintext pt-2' : mode === 'view', 'is-invalid': checkValidAttribute('buyCost') === false}" type="text" [readonly]="mode === 'view'" [value]="subProduct['buyCost']" [(ngModel)]="subProduct['buyCost']" placeholder="">
                <label *ngIf="mode !== 'view'" for="subProduct['name']"> name </label>
                <div class="position-absolute top-50 start-100 translate-middle-y badge rounded-pill text-bg-danger" *ngIf="checkValidAttribute('name') === false">
                  invalid name
                </div>
              </div>
            </td>
            <th class="col-2">
              <label class="col-sm-2 col-form-label mx-3 text-capitalize">Sell:</label>
            </th>
            <td class="col-4">
              <div class="form-floating">
                <input id="{{ subProduct['sellCost'] }}" [ngClass]="{'form-control': mode !== 'view', 'form-control-plaintext pt-2' : mode === 'view', 'is-invalid': checkValidAttribute('sellCost') === false}" type="text" [readonly]="mode === 'view'" [value]="subProduct['sellCost']" [(ngModel)]="subProduct['sellCost']" placeholder="">
                <label *ngIf="mode !== 'view'" for="subProduct['name']"> name </label>
                <div class="position-absolute top-50 start-100 translate-middle-y badge rounded-pill text-bg-danger" *ngIf="checkValidAttribute('name') === false">
                  invalid name
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <th class="col-3">
              <label class="col-sm-2 col-form-label mx-3 text-capitalize">Sale:</label>
            </th>
            <td class="col-9" colspan="3">
              <div class="form-floating">
                <input id="{{ subProduct['discount'] }}" [ngClass]="{'form-control': mode !== 'view', 'form-control-plaintext pt-2' : mode === 'view', 'is-invalid': checkValidAttribute('discount') === false}" type="text" [readonly]="mode === 'view'" [value]="subProduct['discount']" [(ngModel)]="subProduct['discount']" placeholder="">
                <label *ngIf="mode !== 'view'" for="subProduct['name']"> name </label>
                <div class="position-absolute top-50 start-100 translate-middle-y badge rounded-pill text-bg-danger" *ngIf="checkValidAttribute('name') === false">
                  invalid name
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <th class="col-12" colspan="4">
              <label class="d-block col-sm-2 col-form-label mx-3 text-capitalize">Image:</label>
              <div class="container text-center ms-2">
                <div class="row row-cols-auto">
                  <ng-container *ngFor="let image of subProduct['listImage']; let y = index">
                    <app-small-img class="col" [img]="image" [mode]="mode" (returnImg)="handleImg($event)" [imgPosition]="[x, y]"></app-small-img>
                  </ng-container>
                  <div *ngIf="mode !== 'view'" class="p-2 position-relative" style="width: 160px; height: 160px;">
                    <app-button class="g-col-6 position-absolute start-50 top-50 translate-middle" color="green" label="Add" (buttonClick)="addImageSubProduct(x)"></app-button>
                  </div>
                </div>
              </div>
            </th>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="div-16 justify-content-center mt-4">
    <app-button class="g-col-6" color="blue" data-bs-target="#carouselExample" [label]="'previous'" data-bs-slide="prev"></app-button>
    <app-button class="g-col-6" color="blue" data-bs-target="#carouselExample" [label]="'next'" data-bs-slide="next"></app-button>
  </div>
  <div class="div-16 justify-content-center mt-4">
    <app-button *ngIf="mode !== 'view'" class="g-col-6" color="blue" label="Add Sub Product" (buttonClick)="addSubProduct()"></app-button>
  </div>
</div>
